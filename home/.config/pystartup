import sys

python_version = sys.version_info[0]
del sys

if python_version == 2:
    import atexit
    import os
    import readline
    import rlcompleter
    import xdg.BaseDirectory

    historyPath = os.path.join(xdg.BaseDirectory.xdg_data_home, 'pyhistory')

    if os.path.exists(historyPath):
        readline.read_history_file(historyPath)

    @atexit.register
    def save_history(historyPath=historyPath):
        import readline
        readline.write_history_file(historyPath)

    readline.parse_and_bind('tab:complete')

    del atexit, os, readline, rlcompleter, xdg, save_history, historyPath
